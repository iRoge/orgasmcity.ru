(function(){window.PhoneInput=function(){PhoneInput.init=function(container){if(container==null){container=$("body")}return $("input.phone",container).each(function(index,input){if($(input).data("phone")){return}return new PhoneInput(input)})};function PhoneInput(input){this._input=$(input);this._input.data("phone",this);this._mask=new Inputmask({mask:"+7 (999) 999-99-99",onKeyValidation:function(key,result){var char=String.fromCharCode(key);if(false===result&&char.match(/^[0-9]$/)){$(input).val($(input).val().replace(/\D/g,"").slice(-9)+char)}},onBeforePaste:function(pastedValue,opts){if(10<pastedValue.length){pastedValue=pastedValue.slice(-10)}return pastedValue}});this._mask.mask(this._input)}return PhoneInput}()}).call(this);