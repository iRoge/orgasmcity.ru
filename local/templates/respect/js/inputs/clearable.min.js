(function(){window.ClearableInput=function(){ClearableInput.init=function(container){if(container==null){container=$("body")}return $("input.clearable",container).each(function(index,input){if($(input).data("clearable")){return}return new ClearableInput(input)})};function ClearableInput(input){this._input=$(input);this._input.data("clearable",this);this._render()}ClearableInput.prototype._render=function(){var clear;_.bindAll(this,"clear","toggle");this._wrapper=$('<div class="clearable-wrapper">');this._input.before(this._wrapper);this._wrapper.append(this._input);clear=$('<a class="clearable__clear"><i class="icon icon-times"></i></a>');this._wrapper.append(clear);clear.on("click",function(_this){return function(){return _this.clear()}}(this));this._input.on("change keyup",this.toggle);return this.toggle()};ClearableInput.prototype.toggle=function(){return this._wrapper.toggleClass("with-times",!_.isEmpty(this._input.val()))};ClearableInput.prototype.clear=function(){this._input.val("");return this.toggle()};return ClearableInput}()}).call(this);