(function(){var CartPage,extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty;CartPage=function(superClass){extend(CartPage,superClass);function CartPage(){return CartPage.__super__.constructor.apply(this,arguments)}CartPage.prototype.initialize=function(){this._initInputs();return this._initOneClick()};CartPage.prototype._initInputs=function(){var b_slider_init,bonusInput,cartCurBonuses,cartUserBonuses,range;bonusInput=$("#bonus-input");range=$("#bonus-slider")[0];cartUserBonuses=window.cartUserBonuses||0;cartCurBonuses=window.cartCurBonuses||0;if(cartUserBonuses===0){return}noUiSlider.create(range,{start:cartCurBonuses,connect:[true,false],tooltips:true,format:wNumb({decimals:0}),step:1,range:{min:0,max:cartUserBonuses}});b_slider_init=true;setTimeout(function(){return b_slider_init=false},150);bonusInput.on("change",function(){return range.noUiSlider.set(bonusInput.val())});return range.noUiSlider.on("set",function(values,handler){bonusInput.val(values[0]);if(!b_slider_init){return $(document).trigger("set-bonuses")}})};CartPage.prototype._initOneClick=function(){return $(".js-one-click-short").on("click",function(event){event.preventDefault();return $.ajax({method:"get",url:window.application.getUrl("oneClick"),success:function(response){return Popup.show($(response),{title:"Быстрый заказ"})}})})};return CartPage}(_Page);window.Pages.register("cart",CartPage)}).call(this);