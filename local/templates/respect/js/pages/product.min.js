(function(){var ProductPage,extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty;ProductPage=function(superClass){extend(ProductPage,superClass);function ProductPage(){return ProductPage.__super__.constructor.apply(this,arguments)}ProductPage.prototype.initialize=function(){this._initGallery();this._initSlider();return this._initShopList()};ProductPage.prototype._initGallery=function(){this._gallery=new ProductGallery(".product-page__left .product-gallery",{onClickLarge:function(_this){return function(index){return Popup.show(_this._gallery["export"](),{className:"popup--product-gallery",title:false,onShow:function(popup){return new ProductGallery($(".product-gallery",popup._container),{onClickLarge:function(index){return window.Popup.hide()},currentIndex:index,sliderOptions:{slidesToShow:7}})}})}}(this)});return new ProductGallery(".phone--only .product-gallery")};ProductPage.prototype._initSlider=function(){return $(".js-slider").slick({arrows:true,dots:false,infinite:false,slidesToShow:5,responsive:[{breakpoint:600,settings:{slidesToShow:3}}]})};ProductPage.prototype._toMobile=function(){return $(".js-products-slider").slick({arrows:true,dots:false,infinite:false,slidesToShow:2,responsive:[{breakpoint:600,settings:{slidesToShow:2}},{breakpoint:375,settings:{slidesToShow:1}}]})};ProductPage.prototype._fromMobile=function(){return $(".js-products-slider").slick("unslick")};ProductPage.prototype._initShopList=function(){return $(".js-shop-list").on("click",function(event){event.preventDefault();return $.ajax({method:"get",url:window.application.getUrl("shopListPage"),success:function(response){return Popup.show($(response),{className:"popup--shop-list",title:"Наличие товара в магазинах",onShow:function(_this){return function(popup){return new ShopList(popup._wrapper)}}(this)})}})})};return ProductPage}(_Page);window.Pages.register("product",ProductPage)}).call(this);